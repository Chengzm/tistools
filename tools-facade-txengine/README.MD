>业务域

	交易引擎 Tx-Engine

>作用

	交易引擎作为一个独立的服务提供者来实现；
	交易引擎负责处理收到的交易请求，并按照交易所属行为分类（AC_FUNC_BHVTYPE）和本次交易请求行为（AC_FUNC_BHV）来执行对应的引擎逻辑，处理完成后，返回处理结果；
	一个完整的交易办理流程可能会与交易引擎进行多次交互，
	如：打开交易 --> 暂存交易 --> 补录交易 --> 提交交易 --> 交易复核 --> 交易授权 --> 交易处理 ... ； 
	
>与交易引擎相关的概念介绍

>>交易
	
	一种‘功能类型’等于‘交易’的功能（AC_FUNC.FUNC_TYPE＝‘交易’）；
	交易引擎只处理属于“交易”的功能；
	交易会有一些统一的行为，比如：有统一的请求／响应数据结构，交易引擎都会记录交易流水，记录每个操作行为的操作日志；

>>交易服务
	
	“交易”作为一种服务级资源，可以通过类似RESTFul规范（不是严格的RESTFul规范）进行调用，围绕着交易，每种操作都是一个服务，如：
	
	打开交易服务
	
	POST http://ip:port/txengin/TX010505/open-tx
	
	version:v1.0.1
	Content-Type:application/json
	
	打开交易的交易请求
	
	{
		"header":{
			"txCode":"TX010505",
			"BHV":"open-tx",
			"serialNo":"",
			"channelCode":"TWS",
			"operator":"660001"
			"time":"20170921210245427"
			...
		},
		"control":{},
		"requestData":{}
	}
	
	打开交易的交易响应
	
	{
		"header":{"deviceId":"359651042552676","deviceOS":"Android","mobilType":"samsungsmdk4210","versionNo":"2.1.00"},
		"control":{"txToken":"CDKYDK-KAJKK-WIEJK-0300"},
		"responseData":{ "serialNo":"20170921205899010001" }
	}

>>交易请求

	请求交易时的数据结构，描述了请求者期望执行的交易，以及传送的交易数据；
	在交易引擎中，TxRequest类定义了交易请求对象；
	交易请求对象的结构示意：
	
``` json

	交易请求:{
		请求头:{
			交易码
			操作行为
			交易流水
			渠道代码
			操作员
			操作时间
			...
		},
		控制头:{
			翻页控制参数
			授权控制参数
			复核控制参数
			...
		}
		请求数据:{
			账号
			金额
			户名
			...
		}
	}
```
	
>>交易响应

	交易引擎处理交易完成后，返回的的数据结构，返回给请求者的各种控制数据、结果信息都在其中；
	在交易引擎中，TxResponse类定义了交易响应对象；

>>行为分类
	
	每个交易至少对应一种行为分类（AC_FUNC_BHVTYPE），通过行为分类，限定和规范了交易会有那些操作行为（AC_FUNC_BHV）；
	
	同时，每种行为分类会对应一个交易引擎实现实例；
	
	
	
>>
	
	
	
	